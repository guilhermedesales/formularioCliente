<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Endoscopia Ginecol√≥gica - Pr√©-Operat√≥rio</title>
    <link rel="stylesheet" href="../style/index_novo.css" />
    <link rel="icon" href="../img/logo_medico.png" type="image/png">
</head>

<body>
    <!-- Header -->
    <header class="header">
        <div class="header-content">
            <img src="../img/logo_medico.png" alt="Logo" class="logo">
            <div class="header-text">
                <h1>ENDOSCOPIA GINECOL√ìGICA</h1>
                <p>Informa√ß√µes Pr√©-Operat√≥rias</p>
            </div>
        </div>
    </header>

    <!-- Progress Bar -->
    <div class="progress-container">
        <div class="progress-bar" id="progressBar"></div>
        <div class="progress-steps">
            <div class="progress-step active" data-step="1">
                <div class="step-circle">1</div>
                <span class="step-label">Cadastro</span>
            </div>
            <div class="progress-step" data-step="2">
                <div class="step-circle">2</div>
                <span class="step-label">M√©dicas</span>
            </div>
            <div class="progress-step" data-step="3">
                <div class="step-circle">3</div>
                <span class="step-label">Finalizar</span>
            </div>
        </div>
    </div>

    <!-- Main Container -->
    <div class="container">
        <form id="contact-form" method="post" name="contact-form">

            <!-- Page 1: Dados Cadastrais -->
            <div class="form-page active" data-page="1">
                <div class="page-header">
                    <div class="page-icon">üìã</div>
                    <h2>Dados Cadastrais</h2>
                    <p>Informa√ß√µes b√°sicas e contato</p>
                </div>

                <div class="form-grid">
                    <div class="form-group full-width">
                        <label for="nome">Nome Completo *</label>
                        <input type="text" id="nome" name="Nome" required />
                    </div>

                    <div class="form-group">
                        <label for="dataNascimento">Data de Nascimento *</label>
                        <input type="text" id="dataNascimento" placeholder="dd/mm/aaaa" name="Data nascimento" required />
                    </div>

                    <div class="form-group">
                        <label for="idade">Idade</label>
                        <input type="text" id="idade" readonly name="Idade" />
                    </div>

                    <div class="form-group full-width">
                        <label for="telefone">Telefone para contato *</label>
                        <input type="tel" class="telefone" id="telefone" name="Telefone" required />
                    </div>

                    <div class="form-group">
                        <label for="convenio">Conv√™nio *</label>
                        <input type="text" id="convenio" name="Conv√™nio" required />
                    </div>

                    <div class="form-group">
                        <label for="medico">Nome do seu Ginecologista *</label>
                        <input type="text" id="medico" name="M√©dico" required />
                    </div>
                </div>
            </div>

            <!-- Page 2: Informa√ß√µes M√©dicas -->
            <div class="form-page" data-page="2">
                <div class="page-header">
                    <div class="page-icon">üíô</div>
                    <h2>Informa√ß√µes M√©dicas</h2>
                    <p>Dados importantes sobre sua sa√∫de</p>
                </div>

                <div class="form-grid">
                    <div class="form-group">
                        <label for="dataMenstruacao">Data da √∫ltima menstrua√ß√£o *</label>
                        <input type="text" name="√öltima Menstrua√ß√£o" id="dataMenstruacao" placeholder="dd/mm/aaaa" required />
                        <small>Formato: dd/mm/aaaa</small>
                    </div>

                    <div class="form-group">
                        <label for="altura">Altura *</label>
                        <input type="text" name="altura" id="altura" placeholder="_.__m" required />
                        <small>Em metros (ex: 1.65)</small>
                    </div>

                    <div class="form-group">
                        <label for="peso">Peso *</label>
                        <input type="text" name="peso" id="peso" placeholder="__._kg" required />
                        <small>Em kg (ex: 65.5)</small>
                    </div>

                    <div class="form-group full-width">
                        <label>J√° esteve gr√°vida? *</label>
                        <div class="radio-group">
                            <label class="radio-card">
                                <input type="radio" name="gravida" value="Sim" required />
                                <span>Sim</span>
                            </label>
                            <label class="radio-card">
                                <input type="radio" name="gravida" value="N√£o" required />
                                <span>N√£o</span>
                            </label>
                        </div>
                    </div>

                    <!-- Campos de gravidez (ocultos inicialmente) -->
                    <div id="gravidez-info" style="display: none;" class="subsection pregnancy-section">
                        <h4>üìä Hist√≥rico Obst√©trico</h4>

                        <div class="counter-cards">
                            <div class="counter-card">
                                <label>Gesta√ß√µes</label>
                                <p class="counter-subtitle">Total de gravidezes</p>
                                <div class="counter-control">
                                    <button type="button" class="counter-btn" data-action="decrease" data-target="qtd-gravidez">‚àí</button>
                                    <input type="number" id="qtd-gravidez" name="N¬∞ Gesta√ß√µes" value="0" min="0" />
                                    <button type="button" class="counter-btn" data-action="increase" data-target="qtd-gravidez">+</button>
                                </div>
                            </div>

                            <div class="counter-card">
                                <label>Partos Normais</label>
                                <p class="counter-subtitle">Nascimentos vaginais</p>
                                <div class="counter-control">
                                    <button type="button" class="counter-btn" data-action="decrease" data-target="parto-normal">‚àí</button>
                                    <input type="number" id="parto-normal" name="Parto Normal" value="0" min="0" data-limited="true" />
                                    <button type="button" class="counter-btn" data-action="increase" data-target="parto-normal">+</button>
                                </div>
                            </div>

                            <div class="counter-card">
                                <label>Cesarianas</label>
                                <p class="counter-subtitle">Partos cir√∫rgicos</p>
                                <div class="counter-control">
                                    <button type="button" class="counter-btn" data-action="decrease" data-target="cesariana">‚àí</button>
                                    <input type="number" id="cesariana" name="Ces√°rea" value="0" min="0" data-limited="true" />
                                    <button type="button" class="counter-btn" data-action="increase" data-target="cesariana">+</button>
                                </div>
                            </div>

                            <div class="counter-card">
                                <label>Abortos</label>
                                <p class="counter-subtitle">Espont√¢neos/Induzidos</p>
                                <div class="counter-control">
                                    <button type="button" class="counter-btn" data-action="decrease" data-target="aborto">‚àí</button>
                                    <input type="number" id="aborto" name="Aborto" value="0" min="0" data-limited="true" />
                                    <button type="button" class="counter-btn" data-action="increase" data-target="aborto">+</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="form-group full-width">
                        <label for="cirurgias">J√° foi submetida √† alguma cirurgia? *</label>
                        <textarea rows="3" name="Cirurgias" id="cirurgias" required
                            placeholder="Descreva quais cirurgias j√° realizou ou escreva 'Nenhuma'"></textarea>
                    </div>

                    <div class="form-group full-width">
                        <label>Portadora de alergias medicamentosas e/ou l√°tex? *</label>
                        <div class="radio-group">
                            <label class="radio-card">
                                <input type="radio" name="alergia-medicamento" value="sim" required />
                                <span>Sim</span>
                            </label>
                            <label class="radio-card">
                                <input type="radio" name="alergia-medicamento" value="nao" required />
                                <span>N√£o</span>
                            </label>
                        </div>
                    </div>

                    <!-- Campos de alergia (ocultos inicialmente) -->
                    <div id="medicamento-info" class="alergia-detalhes hidden">
                        <div class="form-group full-width">
                            <label for="quais-medicamentos">Quais medicamentos?</label>
                            <small style="font-size: 0.85em; color: #666; display: block; margin-bottom: 8px;">(Deixe em branco se n√£o houver medicamentos)</small>
                            <input type="text" name="quais-medicamentos" id="quais-medicamentos" 
                                placeholder="Ex: Dipirona, Amoxicilina..." class="disease-input" />
                        </div>

                        <div class="form-group full-width">
                            <label>Alergia a l√°tex?</label>
                            <div class="radio-group">
                                <label class="radio-card">
                                    <input type="radio" name="alergia-latex" value="sim" />
                                    <span>Sim</span>
                                </label>
                                <label class="radio-card">
                                    <input type="radio" name="alergia-latex" value="nao" />
                                    <span>N√£o</span>
                                </label>
                            </div>
                        </div>
                    </div>

                    <div class="form-group full-width">
                        <label for="doenca">Possui alguma doen√ßa? Quais?</label>
                        <textarea rows="3" name="Doen√ßa" id="doenca"
                            placeholder="Descreva suas condi√ß√µes de sa√∫de ou escreva 'Nenhuma'"></textarea>
                    </div>

                    <div class="form-group full-width">
                        <label for="doencafamilia">Hist√≥rico de doen√ßas na fam√≠lia? Quais?</label>
                        <textarea rows="3" name="Doen√ßaFamilia" id="doencafamilia"
                            placeholder="Descreva o hist√≥rico familiar de doen√ßas..."></textarea>
                    </div>

                    <div class="form-group full-width">
                        <label for="medicacao">Faz uso de alguma medica√ß√£o? Quais? Quanto Tempo?</label>
                        <textarea rows="3" name="Medica√ß√£o" id="medicacao"
                            placeholder="Liste as medica√ß√µes em uso, dosagem e h√° quanto tempo utiliza..."></textarea>
                    </div>
                </div>
            </div>

            <!-- Page 3: Finalizar -->
            <div class="form-page" data-page="3">
                <div class="page-header">
                    <div class="page-icon">‚úÖ</div>
                    <h2>Informa√ß√µes Adicionais</h2>
                    <p>√öltima etapa! Adicione qualquer informa√ß√£o relevante</p>
                </div>

                <div class="form-grid">
                    <div class="form-group full-width">
                        <label for="informacao_adicional">Deseja acrescentar alguma informa√ß√£o que julgue importante?</label>
                        <textarea rows="6" name="informacao_adicional" id="informacao_adicional"
                            placeholder="Utilize este espa√ßo para compartilhar qualquer informa√ß√£o adicional que considere relevante para sua consulta..."></textarea>
                    </div>
                </div>

                <div class="final-message">
                    <div class="success-icon">üéâ</div>
                    <h3>Quase l√°!</h3>
                    <p>Revise suas informa√ß√µes e clique em <strong>Enviar</strong> para concluir seu cadastro.</p>
                </div>
            </div>

            <!-- Navigation Buttons -->
            <div class="form-navigation">
                <button type="button" class="btn-nav btn-prev" id="prevBtn" disabled>
                    <span>‚Üê</span> Voltar
                </button>
                <button type="button" class="btn-nav btn-next" id="nextBtn">
                    Avan√ßar <span>‚Üí</span>
                </button>
                <button type="button" class="btn-nav btn-review" id="reviewBtn" style="display: none;">
                    üìã Revisar Respostas
                </button>
            </div>
        </form>
    </div>

    <!-- Help Button -->
    <button id="helpButton" class="help-btn" title="Precisa de ajuda?">?</button>

    <!-- Help Box -->
    <div id="helpBox" class="help-box" style="display: none;">
        <button class="help-close" id="helpClose">√ó</button>
        <h4>üí¨ Como podemos ajudar?</h4>
        <p>Selecione sobre qual campo voc√™ tem d√∫vida:</p>
        <div class="field-options">
            <label><input type="checkbox" name="field" value="Informa√ß√µes pessoais"> Informa√ß√µes pessoais</label>
            <label><input type="checkbox" name="field" value="Endere√ßo"> Endere√ßo</label>
            <label><input type="checkbox" name="field" value="Informa√ß√µes m√©dicas"> Informa√ß√µes m√©dicas</label>
            <label><input type="checkbox" name="field" value="Doen√ßas pr√©-existentes"> Doen√ßas pr√©-existentes</label>
            <label><input type="checkbox" name="field" value="Hist√≥rico familiar"> Hist√≥rico familiar</label>
        </div>
        <textarea id="questionText" placeholder="Digite sua d√∫vida aqui..." rows="4"></textarea>
        <button id="sendHelpBtn" class="btn-send-help">üì± Enviar pelo WhatsApp</button>
    </div>

    <!-- Review Modal -->
    <div id="reviewModal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h2>üìã Revis√£o Final</h2>
                <button class="modal-close" id="closeReview">√ó</button>
            </div>
            <div class="modal-body" id="reviewContent">
                <!-- Content will be inserted by JavaScript -->
            </div>
            <div class="modal-footer">
                <button type="button" class="btn-modal btn-back" id="backToEdit">‚Üê Voltar para Editar</button>
                <button type="submit" class="btn-modal btn-confirm" id="confirmSubmit">‚úì Confirmar e Enviar</button>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://unpkg.com/imask"></script>
    <script src="../scripts/custom-confirm.js" defer></script>
    <script src="../scripts/config.js" defer></script>
    <script src="../scripts/form-action-setup.js" defer></script>
    <script src="../scripts/utils.js" defer></script>
    <script src="../scripts/idade-calculo.js" defer></script>
    <script src="../scripts/buscaCEP.js" defer></script>
    <script src="../scripts/mascara-telefone.js" defer></script>
    <script src="../scripts/mascara-data.js" defer></script>
    <script src="../scripts/mascara-peso-altura.js" defer></script>
    <script src="../scripts/index_novo.js" defer></script>
    <script src="../scripts/form-handler.js" defer></script>
</body>

</html>